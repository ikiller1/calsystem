<html>
<head>
   <meta charset="UTF-8" />
   <title>Highcharts 教程 | 菜鸟教程(runoob.com)</title>
   
   <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
</head>
<body>
<div id="container" style="width: 550px; height: 400px; margin: 0 auto"></div>
<button id="button" class="autocompare">Add series</button>
<?php
$cars=array("7.0", "6.9", "9.5", "14.5", "18.2", "21.5", "25.2",	"26.5", "23.3", "18.3", "13.9", "9.6");
?>
<script language="JavaScript">
	 
		 //echo "7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2,	26.5, 23.3, 18.3, 13.9, 9.6";

var odata;
var sdata;
var chart;
var series=new Array();
$(document).ready(function() {
	
	$.post("/test/demo_test_post.php",{
			name:"菜鸟教程",
			url:"localhost"
		},
		function(data,status){
			//alert("数据: \n" + data + "\n状态: " + status);
			odata=data;
			//odata= JSON.parse(data);
			//sdata=data;
		});
		
	var title = {
      text: '月利润'   
   };
	var subtitle = {
      text: 'Source: localhost.com'
   };
   var xAxis = {
      categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
         'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
   };
   var yAxis = {
      title: {
         text: 'Profits (W)'
      },
      plotLines: [{
         value: 0,
         width: 1,
         color: '#808080'
      }]
   };   

   var tooltip = {
      valueSuffix: 'W'
   }

   var legend = {
      layout: 'vertical',
      align: 'right',
      verticalAlign: 'middle',
      borderWidth: 1
   };

	//series =  [
      
//{
    //     name: 'Export',
    //     data: [-0.2, 0.8, 5.7, 11.3, 17.0, 22.0, 24.8,	24.1, 20.1, 14.1, 8.6, 2.5]
    //  }
      
 //  ];

   var json = {};
	
	//sdata=series.shift();
	//sdata[name]=odata[name];
	//series.push(sdata);
	
	//series.push(odata);
   json.title = title;
   json.subtitle = subtitle;
   json.xAxis = xAxis;
   json.yAxis = yAxis;
   json.tooltip = tooltip;
   json.legend = legend;
   json.series = series;
   
   //$('#container').highcharts(json);
   chart =new Highcharts.chart('container',json);
	
//chart.addSeries(odata,true);
});

$('#button').click(function () {
chart.addSeries(odata,true);
//chart.redraw();
    //if (chart.series.length === 2) {
        /*chart.addSeries({
            "data": [{y:194.1}, {y:95.6}, {y:54.4},{y: 29.9}, {y:71.5},{y: 106.4}, {y:129.2},{y: 144.0}, {y:176.0}, {y:135.6}, {y:148.5}, {y:216.4}]
        });*/
    //}
});
</script>
</body>
</html>
